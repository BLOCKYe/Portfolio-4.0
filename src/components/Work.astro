---
import { getCollection } from "astro:content";
import type { CollectionResult, WorkDto } from "../content/config";

const workCollection: Array<CollectionResult<WorkDto>> =
  await getCollection("work");

const sortedWorkCollection = workCollection.sort(
  (a, b) => a.data.sortOrder - b.data.sortOrder
);
---

<section>
  <h2>Work & Contributions</h2>

  <p class={"text-muted text-sm mt-3"}>
    Throughout my career, I have collaborated with several businesses to
    construct <span class="text-l-main">functional web applications</span>. I am
    enthusiastic about undertaking bespoke projects and applying my expertise to
    fashion web services for
    <span class="text-l-main">businesses</span>.
  </p>

  <div class="mt-6 gap-3 grid divide-y-[1px] divide-d-third">
    {
      sortedWorkCollection.map((item) => (
        <div class="pt-3 first:pt-0">
          <p class={"text-c-main"}>{item.data.name}</p>
          <p class={"text-xs mt-1"}>{item.data.date}</p>

          <div class={"text-sm text-muted mt-3"}>{item?.data.description}</div>
        </div>
      ))
    }
  </div>
</section>
